The code in the two files, compute.tf and network.tf is only the code that I would add. I did not copy the existing code and merge my updates with it. I did this for your ease of reading so you can see the code changes easier.
